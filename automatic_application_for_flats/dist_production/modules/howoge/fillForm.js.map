{"version":3,"sources":["../../../src/modules/howoge/fillForm.js"],"names":["fillForm","page","contactData","tour","$","steps","click","form","type","typeIntoInput","title","inputs","$$","evaluate","node","firstName","lastName","email","phone"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEO,eAAeA,QAAf,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAAmCC,WAAnC,EAAgD;AACrD,QAAMC,IAAI,GAAG,MAAMF,IAAI,CAACG,CAAL,CAAO,uCAAP,CAAnB;AACA,QAAMC,KAAK,GAAG,MAAM,gCAAaF,IAAb,CAApB;AAEA,QAAM,CAAC,MAAME,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,gBAAX,CAAP,EAAqCE,KAArC,EAAN;AACA,QAAM,CAAC,MAAMD,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,iBAAX,CAAP,EAAsCE,KAAtC,EAAN;AAEA,QAAM,CAAC,MAAMD,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,gBAAX,CAAP,EAAqCE,KAArC,EAAN;AACA,QAAM,CAAC,MAAMD,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,iBAAX,CAAP,EAAsCE,KAAtC,EAAN;AAEA,QAAM,CAAC,MAAMD,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,gBAAX,CAAP,EAAqCE,KAArC,EAAN;AACA,QAAM,CAAC,MAAMD,KAAK,CAAC,CAAD,CAAL,CAASD,CAAT,CAAW,iBAAX,CAAP,EAAsCE,KAAtC,EAAN;AAEA,QAAMC,IAAI,GAAG,MAAMN,IAAI,CAACG,CAAL,CAAO,kBAAP,CAAnB;AACA,QAAMI,IAAI,GAAG,sBAAQC,UAAR,EAAuBF,IAAvB,CAAb;;AAEA,MAAIL,WAAW,CAACQ,KAAhB,EAAuB;AACrB,UAAMC,MAAM,GAAG,MAAMJ,IAAI,CAACK,EAAL,CACnB,8DADmB,CAArB;;AAGA,QAAIV,WAAW,CAACQ,KAAZ,KAAsB,KAA1B,EAAiC;AAC/B,YAAMC,MAAM,CAAC,CAAD,CAAN,CAAUE,QAAV,CAAmBC,IAAI,IAAI;AAC/BA,QAAAA,IAAI,CAACR,KAAL;AACD,OAFK,CAAN;AAGD,KAJD,MAIO,IAAIJ,WAAW,CAACQ,KAAZ,KAAsB,MAA1B,EAAkC;AACvC,YAAMC,MAAM,CAAC,CAAD,CAAN,CAAUE,QAAV,CAAmBC,IAAI,IAAI;AAC/BA,QAAAA,IAAI,CAACR,KAAL;AACD,OAFK,CAAN;AAGD;AACF;;AACD,QAAME,IAAI,CACR,6DADQ,EAERN,WAAW,CAACa,SAFJ,CAAV;AAIA,QAAMP,IAAI,CACR,4DADQ,EAERN,WAAW,CAACc,QAFJ,CAAV;AAIA,QAAMR,IAAI,CAAC,yDAAD,EAA4DN,WAAW,CAACe,KAAxE,CAAV;AACA,QAAMT,IAAI,CAAC,yDAAD,EAA4DN,WAAW,CAACgB,KAAxE,CAAV;AACD","sourcesContent":["import { partial } from '../../lib/partial.js'\nimport { type as typeIntoInput } from '../../lib/type.js'\nimport { getTourSelector } from './getTourSelector.js'\nimport { getTourSteps } from './getTourSteps.js'\n\nexport async function fillForm ({ page }, contactData) {\n  const tour = await page.$(getTourSelector())\n  const steps = await getTourSteps(tour)\n\n  await (await steps[0].$('.form-checkbox')).click()\n  await (await steps[0].$('.button.primary')).click()\n\n  await (await steps[1].$('.form-checkbox')).click()\n  await (await steps[1].$('.button.primary')).click()\n\n  await (await steps[2].$('.form-checkbox')).click()\n  await (await steps[2].$('.button.primary')).click()\n\n  const form = await page.$('#show-visit-form')\n  const type = partial(typeIntoInput, form)\n\n  if (contactData.title) {\n    const inputs = await form.$$(\n      'input[name=\"tx_mbxrealestate_pi1[visitRequest][salutation]\"]')\n\n    if (contactData.title === 'Mr.') {\n      await inputs[1].evaluate(node => {\n        node.click()\n      })\n    } else if (contactData.title === 'Mrs.') {\n      await inputs[0].evaluate(node => {\n        node.click()\n      })\n    }\n  }\n  await type(\n    'input[name=\"tx_mbxrealestate_pi1[visitRequest][firstName]\"]',\n    contactData.firstName,\n  )\n  await type(\n    'input[name=\"tx_mbxrealestate_pi1[visitRequest][lastName]\"]',\n    contactData.lastName,\n  )\n  await type('input[name=\"tx_mbxrealestate_pi1[visitRequest][email]\"]', contactData.email)\n  await type('input[name=\"tx_mbxrealestate_pi1[visitRequest][phone]\"]', contactData.phone)\n}\n"],"file":"fillForm.js"}