{"version":3,"sources":["../../../src/modules/degewo/DegewoFlatOfferListElement.test.js"],"names":["browser","beforeAll","afterAll","close","describe","it","page","newPage","goto","flatOfferElement","DegewoFlatOfferListElement","$","url","getUrl","expect","toEqual","element","coldRent","getColdRent","seniorsOnly","getSeniorsOnly","requiredMinimumAge","getRequiredMinimumAge","toBeNull"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAIA,OAAJ;AAEAC,SAAS,CAAC,YAAY;AACpBD,EAAAA,OAAO,GAAG,MAAM,mCAAhB;AACD,CAFQ,CAAT;AAIAE,QAAQ,CAAC,YAAY;AACnB,QAAMF,OAAO,CAACG,KAAR,EAAN;AACD,CAFO,CAAR;AAIAC,QAAQ,CAAC,4BAAD,EAA+B,MAAM;AAC3CA,EAAAA,QAAQ,CAAC,QAAD,EAAW,MAAM;AACvBC,IAAAA,EAAE,CAAC,+CAAD,EAAkD,YAAY;AAC9D,YAAMC,IAAI,GAAG,MAAMN,OAAO,CAACO,OAAR,EAAnB;AACA,YAAMD,IAAI,CAACE,IAAL,CAAU,MAAM,oBAAO,yDAAP,CAAhB,CAAN;AACA,YAAMC,gBAAgB,GAAG,IAAIC,sDAAJ,CAA+B,MAAMJ,IAAI,CAACK,CAAL,CAAO,SAAP,CAArC,CAAzB;AACA,YAAMC,GAAG,GAAG,MAAMH,gBAAgB,CAACI,MAAjB,EAAlB;AAEAC,MAAAA,MAAM,CAACF,GAAD,CAAN,CAAYG,OAAZ,CAAoB,mDAApB;AACD,KAPC,CAAF;AAQD,GATO,CAAR;AAWAX,EAAAA,QAAQ,CAAC,aAAD,EAAgB,MAAM;AAC5BC,IAAAA,EAAE,CAAC,gCAAD,EAAmC,YAAY;AAC/C,YAAMW,OAAO,GAAG,IAAIN,sDAAJ,CACd,MAAM,oDAAuBV,OAAvB,CADQ,CAAhB;AAIA,YAAMiB,QAAQ,GAAG,MAAMD,OAAO,CAACE,WAAR,EAAvB;AAEAJ,MAAAA,MAAM,CAACG,QAAD,CAAN,CAAiBF,OAAjB,CAAyB,MAAzB;AACD,KARC,CAAF;AASD,GAVO,CAAR;AAYAX,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC/BC,IAAAA,EAAE,CAAC,oCAAD,EAAuC,YAAY;AACnD,YAAMW,OAAO,GAAG,IAAIN,sDAAJ,CACd,MAAM,0EAAkCV,OAAlC,CADQ,CAAhB;AAIA,YAAMmB,WAAW,GAAG,MAAMH,OAAO,CAACI,cAAR,EAA1B;AAEAN,MAAAA,MAAM,CAACK,WAAD,CAAN,CAAoBJ,OAApB,CAA4B,IAA5B;AACD,KARC,CAAF;AAUAV,IAAAA,EAAE,CAAC,yCAAD,EAA4C,YAAY;AACxD,YAAMW,OAAO,GAAG,IAAIN,sDAAJ,CACd,MAAM,oDAAuBV,OAAvB,CADQ,CAAhB;AAIA,YAAMmB,WAAW,GAAG,MAAMH,OAAO,CAACI,cAAR,EAA1B;AAEAN,MAAAA,MAAM,CAACK,WAAD,CAAN,CAAoBJ,OAApB,CAA4B,KAA5B;AACD,KARC,CAAF;AASD,GApBO,CAAR;AAsBAX,EAAAA,QAAQ,CAAC,uBAAD,EAA0B,MAAM;AACtCC,IAAAA,EAAE,CAAC,oDAAD,EAAuD,YAAY;AACnE,YAAMW,OAAO,GAAG,IAAIN,sDAAJ,CACd,MAAM,0EAAkCV,OAAlC,CADQ,CAAhB;AAIA,YAAMqB,kBAAkB,GAAG,MAAML,OAAO,CAACM,qBAAR,EAAjC;AAEAR,MAAAA,MAAM,CAACO,kBAAD,CAAN,CAA2BN,OAA3B,CAAmC,EAAnC;AACD,KARC,CAAF;AAUAV,IAAAA,EAAE,CAAC,gDAAD,EAAmD,YAAY;AAC/D,YAAMW,OAAO,GAAG,IAAIN,sDAAJ,CACd,MAAM,oDAAuBV,OAAvB,CADQ,CAAhB;AAIA,YAAMqB,kBAAkB,GAAG,MAAML,OAAO,CAACM,qBAAR,EAAjC;AAEAR,MAAAA,MAAM,CAACO,kBAAD,CAAN,CAA2BE,QAA3B;AACD,KARC,CAAF;AASD,GApBO,CAAR;AAqBD,CAnEO,CAAR","sourcesContent":["import { createBrowser } from '../../lib/createBrowser.js'\nimport { getUrl } from '../../lib/testing/getUrl.js'\nimport { DegewoFlatOfferListElement } from './DegewoFlatOfferListElement.js'\nimport { createFlatOfferElement } from './fixtures/createFlatOfferElement.js'\nimport { createSeniorsOnlyFlatOfferElement } from './fixtures/createSeniorsOnlyFlatOfferElement.js'\n\nlet browser\n\nbeforeAll(async () => {\n  browser = await createBrowser()\n})\n\nafterAll(async () => {\n  await browser.close()\n})\n\ndescribe('DegewoFlatOfferListElement', () => {\n  describe('getUrl', () => {\n    it('returns the url of the flat offer detail page', async () => {\n      const page = await browser.newPage()\n      await page.goto(await getUrl('/modules/degewo/fixtures/degewo_flat_offer_element.html'))\n      const flatOfferElement = new DegewoFlatOfferListElement(await page.$('article'))\n      const url = await flatOfferElement.getUrl()\n\n      expect(url).toEqual('http://0.0.0.0:8888/de/properties/1400-40137-0270')\n    })\n  })\n\n  describe('getColdRent', () => {\n    it('returns the cold rent as float', async () => {\n      const element = new DegewoFlatOfferListElement(\n        await createFlatOfferElement(browser)\n      )\n\n      const coldRent = await element.getColdRent()\n\n      expect(coldRent).toEqual(178.06)\n    })\n  })\n\n  describe('getSeniorsOnly', () => {\n    it('returns true when for seniors only', async () => {\n      const element = new DegewoFlatOfferListElement(\n        await createSeniorsOnlyFlatOfferElement(browser)\n      )\n\n      const seniorsOnly = await element.getSeniorsOnly()\n\n      expect(seniorsOnly).toEqual(true)\n    })\n\n    it('returns false when not for seniors only', async () => {\n      const element = new DegewoFlatOfferListElement(\n        await createFlatOfferElement(browser)\n      )\n\n      const seniorsOnly = await element.getSeniorsOnly()\n\n      expect(seniorsOnly).toEqual(false)\n    })\n  })\n\n  describe('getRequiredMinimumAge', () => {\n    it('returns the required minimum age when in the title', async () => {\n      const element = new DegewoFlatOfferListElement(\n        await createSeniorsOnlyFlatOfferElement(browser)\n      )\n\n      const requiredMinimumAge = await element.getRequiredMinimumAge()\n\n      expect(requiredMinimumAge).toEqual(60)\n    })\n\n    it('returns null when minimum age not in the title', async () => {\n      const element = new DegewoFlatOfferListElement(\n        await createFlatOfferElement(browser)\n      )\n\n      const requiredMinimumAge = await element.getRequiredMinimumAge()\n\n      expect(requiredMinimumAge).toBeNull()\n    })\n  })\n})\n"],"file":"DegewoFlatOfferListElement.test.js"}