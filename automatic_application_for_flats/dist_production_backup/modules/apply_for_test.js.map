{"version":3,"sources":["../../src/modules/apply_for_test.js"],"names":["process","env","NODE_ENV","run","main","moduleNameUnderTest","argv","modulePathUnderTest","path","resolve","__dirname","applyForFlatOffer","browser","puppeteer","launch","headless","defaultViewport","width","height","getBrowser","url","flatOffer","contactData","fn","then","console","log","error"],"mappings":";;AAEA;;AACA;;AACA;;;;;;AAJAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAuB,SAAvB;;;AAMAC,GAAG,CAACC,IAAD,CAAH;;AAEA,eAAeA,IAAf,GAAuB;AACrB,QAAMC,mBAAmB,GAAGL,OAAO,CAACM,IAAR,CAAa,CAAb,CAA5B;AACA,QAAMC,mBAAmB,GAAGC,IAAI,CAACC,OAAL,CAAaC,SAAb,EAAwBL,mBAAxB,EAA6C,sBAA7C,CAA5B;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAwB,yBAAaJ,mBAAb,kDAA9B;AAEA,QAAMK,OAAO,GAAG,MAAMC,SAAS,CAACC,MAAV,CAAiB;AACrCC,IAAAA,QAAQ,EAAE,KAD2B;AAErCC,IAAAA,eAAe,EAAE;AACfC,MAAAA,KAAK,EAAE,IADQ;AAEfC,MAAAA,MAAM,EAAE;AAFO;AAFoB,GAAjB,CAAtB;;AAQA,WAASC,UAAT,GAAuB;AACrB,WAAOP,OAAP;AACD;;AAED,QAAMQ,GAAG,GAAGpB,OAAO,CAACM,IAAR,CAAa,CAAb,CAAZ;AACA,QAAMe,SAAS,GAAG;AAAED,IAAAA;AAAF,GAAlB;AACA,QAAMT,iBAAiB,CAACQ,UAAD,EAAaE,SAAb,EAAwBC,mBAAxB,CAAvB;AACD;;AAED,SAASnB,GAAT,CAAcoB,EAAd,EAAkB;AAChBA,EAAAA,EAAE,GAAGC,IAAL,CAAUC,OAAO,CAACC,GAAlB,EAAuBD,OAAO,CAACE,KAA/B;AACD","sourcesContent":["process.env.NODE_ENV = 'TESTING'\n\nimport path from 'path'\nimport puppeteer from 'puppeteer'\nimport { contactData } from '../config.js'\n\nrun(main)\n\nasync function main () {\n  const moduleNameUnderTest = process.argv[2]\n  const modulePathUnderTest = path.resolve(__dirname, moduleNameUnderTest, 'applyForFlatOffer.js')\n  const { applyForFlatOffer } = await import(modulePathUnderTest)\n\n  const browser = await puppeteer.launch({\n    headless: false,\n    defaultViewport: {\n      width: 1024,\n      height: 768\n    }\n  })\n\n  function getBrowser () {\n    return browser\n  }\n\n  const url = process.argv[3]\n  const flatOffer = { url }\n  await applyForFlatOffer(getBrowser, flatOffer, contactData)\n}\n\nfunction run (fn) {\n  fn().then(console.log, console.error)\n}\n"],"file":"apply_for_test.js"}