<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Binary Number Encoding to UTF-8 Encoding</title>
</head>
<body>
<p style="margin-bottom: 0.25rem;">
  This calibration is devoted to God.<br>
  In the name of God
</p>
<button id="l">L</button>
<button id="r">R</button>
<div style="margin-top: 0.25rem;">
  <button id="doOutput">Output</button>
</div>
<div id="output"></div>
<script>
  const $l = document.getElementById('l')
  const $r = document.getElementById('r')
  const $doOutput = document.getElementById('doOutput')
  const $output = document.getElementById('output')

  const characters = []
  let number = 0
  let index = 0
  const maxIndex = 16 - 1

  $l.addEventListener('click', () => {
    number = (number << 1) | 1
    index++
    createNextCharacter()
  })

  $r.addEventListener('click', () => {
    number = (number << 1) | 0
    index++
    createNextCharacter()
  })

  $doOutput.addEventListener('click', () => {
    output()
  })

  function createNextCharacter() {
    if (index === maxIndex) {
      const character = String.fromCharCode(number)
      characters.push(character)
      number = 0
      index = 0
    }
  }

  function output() {
    const string = characters.join('')
    $output.textContent = string
    $l.setAttribute('disabled', String(true))
    $r.setAttribute('disabled', String(true))
    $doOutput.setAttribute('disabled', String(true))
  }
</script>
</body>
</html>
